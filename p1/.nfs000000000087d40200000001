cscope 15 $HOME/ECS175/p1               0000020225
	@common_type.h

1 
	~<c¡dio
>

2 #ifdeà
DEBUG_PRINT


3 
	#DPRINT
 
´štf


	)

5 
	#DPRINT
(...)

	)

8 
	#MIN
(
x
,
y
è((x<=y)?x:y)

	)

9 
	#MAX
(
x
,
y
è((x>y)?x:y)

	)

11 #iâdeà
COMMON_TYPE_H


12 
	#COMMON_TYPE_H


	)

14 
	tušt8
;

15 
	tšt8
;

18 
	mx
;

19 
	my
;

20 } 
	tPošt
;

22 
Pošt
 
	tV”‹x
;

25 
	mr
;

26 
	mg
;

27 
	mb
;

28 }
	tCŞÜ
;

	@graph.cpp

1 
	~"g¿ph.h
"

2 
	gG¿ph
::
	$G¿ph
(
width
, 
height
, *
Pix–BufãrPŒ
){

3 
Pix–Bufãr
 = 
Pix–BufãrPŒ
;

4 
wšdow_width
 = 
width
;

5 
wšdow_height
 = 
height
;

6 
	}
}

8 
	gG¿ph
::
	$d¿wPix–
(
x
, 
y
, 
r
, 
g
, 
b
){

9 ifĞ
	`abs
(
x
è> 
wšdow_width
/2 ||‡bs(
y
è> 
wšdow_height
/2){

10 
	`DPRINT
("ERROR: INVALID POINTS (%d, %d)\n", 
x
,
y
);

14 
y
+=(
wšdow_height
/2);

15 
x
+=(
wšdow_width
/2);

16 
Pix–Bufãr
[ 
y
 * 
wšdow_width
 * 3 + 
x
 * 3 ] = 
r
;

17 
Pix–Bufãr
[ 
y
 * 
wšdow_width
 * 3 + 
x
 * 3 + 1 ] = 
g
;

18 
Pix–Bufãr
[ 
y
 * 
wšdow_width
 * 3 + 
x
 * 3 + 2 ] = 
b
;

21 
	}
}

23 
	gG¿ph
::
	$d¿wLše
Ğ
Pošt
 
p1
, Pošˆ
p2
, 
r
, 
g
, 
b
){

24 if(
p1
.
x
 =ğ
p2
.x){

25 
y
,
y_’d
;

26 if(
p1
.
y
 <ğ
p2
.y){

27 
y
 = 
p1
.y;

28 
y_’d
 = 
p2
.
y
;

30 
y
 = 
p2
.y;

31 
y_’d
 = 
p1
.
y
;

33 ; 
y
<=
y_’d
; y++)

34 
	`d¿wPix–
(
p1
.
x
, 
y
, 
r
,
g
,
b
);

37 if(
p1
.
y
 =ğ
p2
.y){

38 
x
, 
x_’d
;

39 if(
p1
.
x
 <ğ
p2
.x){

40 
x
 = 
p1
.x;

41 
x_’d
 = 
p2
.
x
;

44 
x
 = 
p2
.x;

45 
x_’d
 = 
p1
.
x
;

47 ; 
x
 <ğ
x_’d
; x++)

48 
	`d¿wPix–
(
x
, 
p1
.
y
, 
r
,
g
,
b
);

53 
	`b»£nham
(
p1
, 
p2
, 
r
, 
g
, 
b
);

57 
	}
}

59 
	gG¿ph
::
	$dda
Ğ
Pošt
 
p1
, Pošˆ
p2
, 
r
, 
g
, 
b
){

60 
d–_x
, 
d–_y
, 
x
,
y
, 
x_begš
, 
x_’d
, 
y_begš
, 
y_’d
; 
m
;

61 
d–_x
 = 
p2
.
x
 - 
p1
.x;

62 
d–_y
 = 
p2
.
y
 - 
p1
.y;

63 
m
 = ()
d–_y
 / 
d–_x
;

64 
	`DPRINT
("Slİm : %.2lf\n", 
m
);

66 ifĞ(0 < 
m
 && m <= 1) || (-1 <= m && m < 0) ){

67 ifĞ
p1
.
x
 <ğ
p2
.x ){

68 
x_begš
 = 
p1
.
x
;

69 
x_’d
 = 
p2
.
x
;

70 
y_begš
 = 
p1
.
y
;

73 
x_begš
 = 
p2
.
x
;

74 
x_’d
 = 
p1
.
x
;

75 
y_begš
 = 
p2
.
y
;

77  
x
 = 
x_begš
; x <ğ
x_’d
; x++){

78 
y
 = 
	`Ìound
Ğ(
x
 - 
x_begš
)*
m
 + 
y_begš
 );

79 
	`d¿wPix–
(
x
,
y
,
r
,
g
,
b
);

82 ifĞ
m
 > 1 || m < -1) {

83 
m_b¬
 = 1/
m
;

84 if(
p1
.
y
 <ğ
p2
.y){

85 
y_begš
 = 
p1
.
y
;

86 
y_’d
 = 
p2
.
y
;

87 
x_begš
 = 
p1
.
x
;

90 
y_begš
 = 
p2
.
y
;

91 
y_’d
 = 
p1
.
y
;

92 
x_begš
 = 
p2
.
x
;

94  
y
 = 
y_begš
; y <ğ
y_’d
; y++){

95 
x
 = 
	`Ìound
ĞĞ
y
 - 
y_begš
è* 
m_b¬
 + 
x_begš
 ) ;

96 
	`d¿wPix–
(
x
,
y
,
r
,
g
,
b
);

99 ifĞ
m
 == 0 ){

100  
x
 = 
	`MIN
(
p1
.x, 
p2
.x); x <ğ
	`MAX
(p1.x,…2.x); x++){

101 
	`d¿wPix–
(
x
, 
p1
.
y
, 
r
,
g
,
b
);

105 
	`DPRINT
("m is bad\n");

109 
	}
}

122 
	$d‘”mšeS¹AndEndPošts
(
Pošt
 
p1
, Pošˆ
p2
, *
x
, *
y
, *
x_’d
, *
y_’d
){

123 if(
p1
.
x
 <ğ
p2
.x){

124 *
x
 = 
p1
.x;

125 *
y
 = 
p1
.y;

126 *
x_’d
 = 
p2
.
x
;

127 *
y_’d
 = 
p2
.
y
;

130 *
x
 = 
p2
.x;

131 *
y
 = 
p2
.y;

132 *
x_’d
 = 
p1
.
x
;

133 *
y_’d
 = 
p1
.
y
;

135 
	}
}

138 
	$sw­XY
(
Pošt
 *
p1
){

139 
tmp
;

140 
tmp
 = 
p1
->
x
;

141 
p1
->
x
 =…1->
y
;

142 
p1
->
y
 = 
tmp
;

143 
	}
}

145 
	gG¿ph
::
	$b»£nham
(
Pošt
 
±1
, Pošˆ
±2
, 
r
, 
g
, 
b
 ){

146 
Pošt
 
p1
 = 
±1
;

147 
Pošt
 
p2
 = 
±2
;

148 
x
, 
y
, 
x_’d
, 
y_’d
, 
p
;

149 
dx
 = (
p2
.
x
 - 
p1
.x), 
dy
 = (p2.
y
 -…1.y);

150 
boŞ
 
¡“p
 = 
çl£
;

151 
m
 = ()
dy
/()
dx
 ;

152 
	`DPRINT
("Th¦İi %.2f,\šw™h cŞÜ %.2f,%.2f,%.2f\n", 
m
, 
r
,
g
,
b
);

153 
boŞ
 
pos™ive_¦İe
;

154 ifĞ
m
 >= 0 )

155 
pos™ive_¦İe
 = 
Œue
;

157 
pos™ive_¦İe
 = 
çl£
;

159 ifĞ
	`çbs
(
m
) <= 1 ){

160 
¡“p
 = 
çl£
;

163 
¡“p
 = 
Œue
;

164 
	`sw­XY
(&
p1
);

165 
	`sw­XY
(&
p2
);

167 
	`d‘”mšeS¹AndEndPošts
(
p1
, 
p2
, &
x
, &
y
, &
x_’d
, &
y_’d
);

169 
dx
 = 
	`abs
(
x_’d
 - 
x
);

170 
dy
 = 
	`abs
(
y_’d
 - 
y
);

172 if(
¡“p
)

173 
	`d¿wPix–
(
y
,
x
,
r
,
g
,
b
);

175 
	`d¿wPix–
(
x
,
y
,
r
,
g
,
b
);

176 
p
 = 2 * 
dy
 - 
dx
;

177  ; 
x
 < 
x_’d
; ){

178 
x
++;

179 ifĞ
p
 >= 0){

180 
pos™ive_¦İe
? 
y
++:y--;

181 
p
 =… + 2*
dy
 - 2*
dx
;

184 
p
 =… + 2*
dy
;

186 if(
¡“p
)

187 
	`d¿wPix–
(
y
,
x
,
r
,
g
,
b
);

189 
	`d¿wPix–
(
x
,
y
,
r
,
g
,
b
);

193 
	}
}

195 
	gG¿ph
::
	$flSü“n
(
r
, 
g
, 
b
){

196 
bufãrSize
 = 
wšdow_width
 * 
wšdow_height
 * 3;

197 
i
 = 0; i < 
bufãrSize
; i+=3){

198 
Pix–Bufãr
[
i
] = 
r
;

199 
Pix–Bufãr
[
i
+1] = 
g
;

200 
Pix–Bufãr
[
i
+2] = 
b
;

202 
background_cŞÜ
 = {
r
,
g
,
b
};

204 
	}
}

206 
	gG¿ph
::
	$d¿wPŞygÚ
Ğ
Pošt
 *
li¡OfPošts
, 
numb”OfPošts
, 
r
, 
g
, 
b
){

208 
	`d¿wLše
(
li¡OfPošts
[0],†i¡OfPošts[
numb”OfPošts
-1], 
r
,
g
,
b
);

209 
i
 = 0 ; i < 
numb”OfPošts
 - 1; i++){

210 
	`d¿wLše
(
li¡OfPošts
[
i
],†i¡OfPošts[i+1], 
r
,
g
,
b
);

212 
	}
}

	@graph.h

1 #iâdeà
GRAPH_H


2 
	#GRAPH_H


	)

4 
	~<c¡dio
>

5 
	~<®gÜ™hm
>

6 
	~<cm©h
>

8 
	~"commÚ_ty³.h
"

10 
	#WINDOW_WIDTH
 1000

	)

11 
	#WINDOW_HEIGHT
 500

	)

14 şas 
	cG¿ph
 {

15 
ä›nd
 
şass
 
	mPŞygÚ
;

16 
ä›nd
 
şass
 
	mLše
;

17 
	mwšdow_width
;

18 
	mwšdow_height
;

19 
CŞÜ
 
	mbackground_cŞÜ
;

21 
	mpublic
:

22 
G¿ph
(
width
, 
height
, * 
Pix–BufãrPŒ
);

23 *
	mPix–Bufãr
;

24 
d¿wPix–
(
x
, 
y
, 
r
, 
g
, 
b
);

25 
d¿wLše
(
Pošt
 
p1
, Pošˆ
p2
, 
r
, 
g
, 
b
);

26 
dda
(
Pošt
 
p1
, Pošˆ
p2
, 
r
, 
g
, 
b
);

27 
b»£nham
(
Pošt
 
p1
, Pošˆ
p2
, 
r
, , );

28 
flSü“n
(
r
, 
g
, 
b
);

29 
d¿wPŞygÚ
Ğ
Pošt
 *
li¡OfPošts
, 
numb”OfPošts
, 
r
, 
g
, 
b
);

32 
d‘”mšeS¹AndEndPošts
(
Pošt
 
p1
, Pošˆ
p2
, *
x
, *
y
, *
x_’d
, *
y_’d
);

33 
sw­XY
(
Pošt
 *
p1
);

	@line.cpp

1 
	~"lše.h
"

3 
	#SET_LEFT_CODE
 0x01

4 
	#SET_RIGHT_CODE
 0x02

5 
	#SET_BOTTOM_CODE
 0x04

6 
	#SET_ABOVE_CODE
 0x08

7 

	)

9 
	gLše
::
	$Lše
(
Pošt
 
p1
, Pošˆ
p2
, 
G¿ph
 *
g
){

10 
·œOfPoštsOrigš®
[0]=
·œOfPoštsAá”Clpšg
[0]=
p1
;

11 
·œOfPoštsOrigš®
[1]=
·œOfPoštsAá”Clpšg
[1]=
p2
;

12 
·œOfPošts
 = 
·œOfPoštsOrigš®
;

13 
g¿ph
 = 
g
;

14 
cŞÜ
.
r
 = 0;

15 
cŞÜ
.
g
 = 0;

16 
cŞÜ
.
b
 = 0;

17 
	}
}

19 
	gLše
::
	$£tCŞÜ
(
r
, 
g
, 
b
){

20 
cŞÜ
.
r
 =„;

21 
cŞÜ
.
g
 = g;

22 
cŞÜ
.
b
 = b;

23 
	}
}

25 
	gLše
::
	$d¿w
(){

26 ifĞ
·œOfPošts
 == 0)

27 
	`DPRINT
("<>===<> POINTS ARE CLIPPED\n");

29 
g¿ph
->
	`d¿wLše
(
·œOfPošts
[0],…aœOfPošts[1], 
cŞÜ
.
r
, cŞÜ.
g
, cŞÜ.
b
);

30 
	}
}

32 
	gLše
::
	$ş
(
xMš
, 
xMax
, 
yMš
, 
yMax
){

34 
CŞÜ
 
bgCŞÜ
 = 
g¿ph
->
background_cŞÜ
;

35 
g¿ph
->
	`d¿wLše
(
·œOfPoštsOrigš®
[0],…aœOfPoštsOrigš®[1], 
bgCŞÜ
.
r
, bgCŞÜ.
g
, bgCŞÜ.
b
);

37 
”rÜCode
 = 
	`coh’Suth”Ïnd
(
xMš
, 
xMax
, 
yMš
, 
yMax
);

38 ifĞ
”rÜCode
 == 0 ){

39 
g¿ph
->
	`d¿wLše
(
·œOfPošts
[0],…aœOfPošts[1], 
cŞÜ
.
r
, cŞÜ.
g
, cŞÜ.
b
);

43 
Pošt
 
şpšgRegiÚ
[] = { {
xMš
, 
yMš
}, {xMš, 
yMax
}, {
xMax
, yMax}, {xMax, yMin} };

44 
g¿ph
->
	`d¿wPŞygÚ
(
şpšgRegiÚ
, 4, 0.1 , 1, 0.5 );

45 
	}
}

48 
	gLše
::
	$coh’Suth”Ïnd
(
xMš
, 
xMax
, 
yMš
, 
yMax
){

49 
Pošt
 
p1
, 
p2
; 
m
;

50 
ušt8
 
p1_»giÚ_code
, 
p2_»giÚ_code
;

51 
p1
 = 
·œOfPoštsOrigš®
[0];

52 
p2
 = 
·œOfPoštsOrigš®
[1];

54 
Œue
){

55 
p1_»giÚ_code
 = 
	`’code
(
p1
, 
xMš
, 
xMax
, 
yMš
, 
yMax
);

56 
p2_»giÚ_code
 = 
	`’code
(
p2
, 
xMš
, 
xMax
, 
yMš
, 
yMax
);

57 ifĞ
	`acû±
(
p1_»giÚ_code
, 
p2_»giÚ_code
) ){

58 
·œOfPoštsAá”Clpšg
[0] = 
p1
;

59 
·œOfPoštsAá”Clpšg
[1] = 
p2
;

60 
·œOfPošts
 = 
·œOfPoštsAá”Clpšg
;

63 ifĞ
	`»jeù
(
p1_»giÚ_code
, 
p2_»giÚ_code
) ){

64 
·œOfPošts
 = 0;

68 ifĞ
	`šside
(
p1_»giÚ_code
) ){

69 
¡d
::
	`sw­
(
p1_»giÚ_code
, 
p2_»giÚ_code
);

70 
	`sw­Pošts
(&
p1
, &
p2
);

73 ifĞ
p2
.
x
 - 
p1
.x != 0)

74 
m
 = ()(
p2
.
y
-
p1
.y)/Õ2.
x
-p1.x);

75 ifĞ
p1_»giÚ_code
 & 
SET_LEFT_CODE
){

76 
p1
.
y
 = 
m
*(
xMš
 -…1.
x
) +…1.y;

77 
p1
.
x
 = 
xMš
;

79 ifĞ
p1_»giÚ_code
 & 
SET_RIGHT_CODE
){

80 
p1
.
y
 = 
m
*(
xMax
 -…1.
x
) +…1.y;

81 
p1
.
x
 = 
xMax
;

83 ifĞ
p1_»giÚ_code
 & 
SET_BOTTOM_CODE
){

85 if(
p1
.
x
 !ğ
p2
.x)

86 
p1
.
x
 = (
yMš
 -…1.
y
)/
m
 +…1.x;

87 
p1
.
y
 = 
yMš
;

89 ifĞ
p1_»giÚ_code
 & 
SET_ABOVE_CODE
){

90 if(
p1
.
x
 !=
p2
.x)

91 
p1
.
x
 = (
yMax
 -…1.
y
)/ 
m
 +…1.x;

92 
p1
.
y
 = 
yMax
;

96 
	}
}

111 
ušt8
 
	$’code
(
Pošt
 
p
, 
xMš
, 
xMax
, 
yMš
, 
yMax
){

112 
ušt8
 
»giÚ_code
 = 0x00;

113 if(
p
.
x
 < 
xMš
)

114 
»giÚ_code
 |ğ
SET_LEFT_CODE
;

115 if(
p
.
x
 > 
xMax
)

116 
»giÚ_code
 |ğ
SET_RIGHT_CODE
;

117 if(
p
.
y
 < 
yMš
)

118 
»giÚ_code
 |ğ
SET_BOTTOM_CODE
;

119 if(
p
.
y
 > 
yMax
)

120 
»giÚ_code
 |ğ
SET_ABOVE_CODE
;

121  
»giÚ_code
;

122 
	}
}

125 
boŞ
 
	$šside
(
ušt8
 
»giÚ_code
){

126  !
»giÚ_code
;

127 
	}
}

134 
boŞ
 
	$»jeù
(
ušt8
 
»giÚ_code1
, ušt8 
»giÚ_code2
){

135  (
boŞ
)(
»giÚ_code1
 & 
»giÚ_code2
) ;

136 
	}
}

139 
boŞ
 
	$acû±
(
ušt8
 
»giÚ_code1
, ušt8 
»giÚ_code2
){

140  !(
»giÚ_code1
 | 
»giÚ_code2
);

141 
	}
}

145 
	$sw­Pošts
(
Pošt
 *
p1
, Pošˆ*
p2
){

146 
Pošt
 
tmp
;

147 
tmp
 = *
p1
;

148 *
p1
 = *
p2
;

149 *
p2
 = 
tmp
;

150 
	}
}

	@line.h

1 
	~"commÚ_ty³.h
"

2 
	~"g¿ph.h
"

4 şas 
	cLše
{

5 
Pošt
 *
	m·œOfPošts
;

6 
Pošt
 
	m·œOfPoštsOrigš®
[2];

7 
Pošt
 
	m·œOfPoštsAá”Clpšg
[2];

8 
G¿ph
 *
	mg¿ph
;

9 
CŞÜ
 
	mcŞÜ
;

11 
	mpublic
:

12 
Lše
(
Pošt
 
p1
, Pošˆ
p2
, 
G¿ph
 *
g
);

13 
£tCŞÜ
(
r
, 
g
, 
b
);

14 
d¿w
();

15 
ş
(, , , );

16 
coh’Suth”Ïnd
(
xMš
, 
xMax
, 
yMš
, 
yMax
);

20 
ušt8
 
’code
(
Pošt
 
p
, 
xMš
, 
xMax
, 
yMš
, 
yMax
);

21 
boŞ
 
šside
(
ušt8
 
»giÚ_code
);

22 
boŞ
 
»jeù
(
ušt8
 
»giÚ_code1
, ušt8 
»giÚ_code2
);

23 
boŞ
 
acû±
(
ušt8
 
»giÚ_code1
, ušt8 
»giÚ_code2
);

24 
sw­Pošts
(
Pošt
 *
p1
, Pošˆ*
p2
);

	@main.cpp

1 
	~<GL/glut.h
>

2 
	~"g¿ph.h
"

3 
	~"pŞygÚ.h
"

4 
	~"lše.h
"

5 *
	gPix–Bufãr
;

7 
ÿÎback_di¥Ïy
();

8 
d¿wStuff
(
G¿ph
 &);

10 
	$maš
(
¬gc
, *
¬gv
[]){

11 
	`glutIn™
(&
¬gc
, 
¬gv
);

12 
	`glutIn™Di¥ÏyMode
(
GLUT_SINGLE
 | 
GLUT_RGB
 );

14 
	`glutIn™WšdowSize
(
WINDOW_WIDTH
, 
WINDOW_HEIGHT
);

15 
	`glutIn™WšdowPos™iÚ
(100, 100);

16 
wšdowID
 = 
	`glutC»©eWšdow
("First Window");

19 
Pix–Bufãr
 = 
Ãw
 [
WINDOW_WIDTH
*
WINDOW_HEIGHT
*3];

20 
G¿ph
 
	`g¿ph
(
WINDOW_WIDTH
,
WINDOW_HEIGHT
, 
Pix–Bufãr
);

21 
g¿ph
.
	`flSü“n
(1,1,1);

23 
	`d¿wStuff
(
g¿ph
);

25 
	`glutDi¥ÏyFunc
(
ÿÎback_di¥Ïy
);

26 
	`glutMašLoİ
();

28 
	}
}

31 
	$ÿÎback_di¥Ïy
(){

33 
	`glLßdId’t™y
();

34 
	`glD¿wPix–s
(
WINDOW_WIDTH
, 
WINDOW_HEIGHT
, 
GL_RGB
, 
GL_FLOAT
, 
Pix–Bufãr
);

36 
	`glFlush
();

37 
	}
}

39 
	$d¿wStuff
(
G¿ph
 &
g¿ph
){

52 
r
 = 250;

53 
i
 = 0 ; i < 
r
; i++ )

54 
j
 = 0; j <
r
; j++)

55 ifĞ
i
*˜+ 
j
*j =ğ
r
 *„){

56 
g¿ph
.
	`d¿wLše
Ğ{0,0}, {
i
,
j
}, 1,0,1);

57 
g¿ph
.
	`d¿wLše
Ğ{0,0}, {-
i
,
j
}, 1,0,1);

58 
g¿ph
.
	`d¿wLše
Ğ{0,0}, {
i
,-
j
}, 1,0,1);

59 
g¿ph
.
	`d¿wLše
Ğ{0,0}, {-
i
,-
j
}, 1,0,1);

62 
Pošt
 
pošts
[] = { {0,0}, {50, 50}, {0,100}, {100,100} ,{150,50}, {100, 0} };

63 
PŞygÚ
 
	`pŞy
(
pošts
, 6, &
g¿ph
);

64 
pŞy
.
	`£tCŞÜ
( {0.1, 0.5, 0.3} );

65 
pŞy
.
	`d¿w
();

66 
pŞy
.
	`ş
(60,60, 80,80 );

67 
pŞy
.
	`¿¡”ize
(0.3,0.4,0.5);

69 
pŞy
.
	`rÙ©e
(45);

70 
pŞy
.
	`d¿w
();

71 
pŞy
.
	`sÿË
(1.8, 1.8);

72 
pŞy
.
	`d¿w
();

74 
pŞy
.
	`Œª¦©e
(-400, 50);

76 
pŞy
.
	`d¿w
();

77 
pŞy
.
	`¿¡”ize
(1,0,1);

79 
pŞy
.
	`sÿË
(0.2, 0.2);

80 
pŞy
.
	`rÙ©e
(45);

81 
pŞy
.
	`Œª¦©e
(400, -200);

82 
pŞy
.
	`d¿w
();

83 
pŞy
.
	`¿¡”ize
(1, 0, 1);

85 
Pošt
 
pošts2
[] = { {-200, -200}, {-100, -200}, {-100, -100}, {-200, -100} };

86 
PŞygÚ
 
	`pŞy2
(
pošts2
, 4, &
g¿ph
);

87 
pŞy2
.
	`d¿w
();

89 
pŞy2
.
	`´štLi¡OfCÚtourPošts
();

90 
pŞy2
.
	`¿¡”ize
(0.5,0.5,0.5);

102 
Pošt
 
pošts3
[] = { {100, 150}, {150, 150}, {175, 125}, {200, 150}, {275, 150}, { 275, 100}, {200, 100 }, {175, 50}, {150, 100}, {100, 100}};

103 
PŞygÚ
 
	`pŞy3
(
pošts3
, 10, &
g¿ph
);

104 
pŞy3
.
	`Œª¦©e
(200,0);

105 
pŞy3
.
	`d¿w
();

106 
pŞy3
.
	`¿¡”ize
(0.3, 0.9, 0.4);

108 
Lše
 
	`lše1
Ğ{-125, 0}, {-125, 80} , &
g¿ph
 );

109 
lše1
.
	`ş
( -150, -100, 10, 50 );

111 
Lše
 
	`lše2
Ğ{-175, 30}, { -50, 30}, &
g¿ph
 );

112 
lše2
.
	`ş
( -150, -100, 10, 50 );

114 
Lše
 
	`lše3
Ğ{-175,0}, {-125, 80}, &
g¿ph
 );

115 
lše3
.
	`d¿w
();

116 
lše3
.
	`ş
( -150, -100, 10, 50);

118 
Lše
 
	`lše4
Ğ{-140, 45}, {-120, 15 }, &
g¿ph
);

119 
lše4
.
	`d¿w
();

120 
lše4
.
	`ş
(-150, -100, 10, 50);

121 
	}
}

	@polygon.cpp

1 
	~"pŞygÚ.h
"

2 
	~<c¡dlib
>

3 
	~<c¡ršg
>

4 
	gPŞygÚ
::
	$PŞygÚ
(
Pošt
 * 
li¡OfPts
, 
_numb”OfPošts
, 
G¿ph
 *
±r_g¿ph
){

5 
li¡OfPošts
 = 
li¡OfPoštsOrigš®
 = 
Ãw
 
Pošt
[
_numb”OfPošts
];

6 
i
 = 0; i < 
_numb”OfPošts
; i++)

7 
li¡OfPošts
[
i
] = 
li¡OfPts
[i];

9 
numb”OfPošts
 = 
numb”OfPoštsOrigš®
 = 
_numb”OfPošts
;

10 
cŞÜ
 = {0,0,0} ;

11 
g¿ph
 = 
±r_g¿ph
;

12 
	`£tC’Œoid
();

13 
	}
}

14 
	gPŞygÚ
::~
	$PŞygÚ
(){

15 
	`DPRINT
("DESTRUCTOR CALLED\n");

16 if(
li¡OfPošts
 != 0) {

17 
d–‘e
[] 
li¡OfPošts
;

18 
li¡OfPošts
 = 0;

20 
	}
}

23 
	gPŞygÚ
::
	$£tC’Œoid
(){

24 
sumOfXs
 = 0, 
sumOfYs
 = 0;

25 
i
 = 0 ; i < 
numb”OfPošts
; i++){

26 
sumOfXs
 +ğ
li¡OfPošts
[
i
].
x
;

27 
sumOfYs
 +ğ
li¡OfPošts
[
i
].
y
;

30 
ûÁroid
.
x
 = 
sumOfXs
 / 
numb”OfPošts
;

31 
ûÁroid
.
y
 = 
sumOfYs
 / 
numb”OfPošts
;

32 
	`DPRINT
("ûÁroid i (%d, %d)\n", 
ûÁroid
.
x
, c’Œoid.
y
);

33 
	}
}

35 
	gPŞygÚ
::
	$£tCŞÜ
(
CŞÜ
 
c
){

36 
cŞÜ
 = 
c
;

37 
	}
}

39 
	gPŞygÚ
::
	$d¿w
(){

40 
g¿ph
->
	`d¿wPŞygÚ
(
li¡OfPošts
, 
numb”OfPošts
, 
cŞÜ
.
r
, cŞÜ.
g
, cŞÜ.
b
);

41 
	}
}

43 
	gPŞygÚ
::
	$sÿË
(
®pha
, 
b‘a
){

44 
cx
 = ()
ûÁroid
.
x
,

45 
cy
 = ()
ûÁroid
.
y
,

46 
Ãw_x
, 
Ãw_y
, 
x
, 
y
;

47 
i
 = 0 ; i< 
numb”OfPošts
; i++){

48 
x
 = 
li¡OfPošts
[
i
].x;

49 
y
 = 
li¡OfPošts
[
i
].y;

50 
Ãw_x
 = 
cx
 - 
®pha
*cx +‡Íha*
x
;

51 
Ãw_y
 = 
cy
 - 
b‘a
*cy + b‘a*
y
;

52 
	`DPRINT
("Ãw…ošt (%d, %d)\n", ()
Ãw_x
, ()
Ãw_y
);

53 
li¡OfPošts
[
i
].
x
 = ()
Ãw_x
;

54 
li¡OfPošts
[
i
].
y
 = ()
Ãw_y
;

57 
	}
}

59 
	#PI
 3.1415926

	)

60 
	gPŞygÚ
::
	$rÙ©e
(
®pha
){

61 
cosAÍha
 = 
	`cos
(
®pha
 * 
PI
/180),

62 
sšAÍha
 = 
	`sš
(
®pha
 * 
PI
/180),

63 
cx
 = ()
ûÁroid
.
x
,

64 
cy
 = ()
ûÁroid
.
y
,

65 
Ãw_x
,

66 
Ãw_y
,

67 
x
,
y
;

69 
i
 = 0 ; i< 
numb”OfPošts
; i++){

70 
x
 = 
li¡OfPošts
[
i
].x;

71 
y
 = 
li¡OfPošts
[
i
].y;

72 
Ãw_x
 = 
cx
 - 
cosAÍha
*cx + 
cy
*
sšAÍha
 + cosAÍha*
x
 - sšAÍha*
y
;

73 
Ãw_y
 = 
cy
 - 
cosAÍha
*cy - 
cx
*
sšAÍha
 + cosAÍha*
y
 + sšAÍha*
x
;

74 
	`DPRINT
("Ãw…ošt (%d, %d)\n", ()
Ãw_x
, ()
Ãw_y
);

75 
li¡OfPošts
[
i
].
x
 = ()
Ãw_x
;

76 
li¡OfPošts
[
i
].
y
 = ()
Ãw_y
;

78 
	}
}

80 
	gPŞygÚ
::
	$Œª¦©e
(
x_off£t
, 
y_off£t
){

81 
Ãw_x
, 
Ãw_y
;

82 
i
 = 0 ; i< 
numb”OfPošts
; i++){

83 
Ãw_x
 = 
li¡OfPošts
[
i
].
x
 + 
x_off£t
;

84 
Ãw_y
 = 
li¡OfPošts
[
i
].
y
 + 
y_off£t
;

85 
	`DPRINT
("Ãw…ošt (%d, %d)\n", ()
Ãw_x
, ()
Ãw_y
);

86 
li¡OfPošts
[
i
].
x
 = 
Ãw_x
;

87 
li¡OfPošts
[
i
].
y
 = 
Ãw_y
;

89 
	}
}

91 
	gPŞygÚ
:: 
	$_¡ÜeCÚtourPošt
(
x
, 
y
){

92 
li¡OfCÚtourPošts
[
y
+
g¿ph
->
wšdow_height
/2].
	`push_back
Ğ{
x
,y} );

94 
	}
}

97 
	gPŞygÚ
::
	$_b»£nham
(
Pošt
 
±1
, Pošˆ
±2
){

98 
Pošt
 
p1
 = 
±1
;

99 
Pošt
 
p2
 = 
±2
;

100 
x
, 
y
, 
x_’d
, 
y_’d
, 
p
;

101 
dx
 = (
p2
.
x
 - 
p1
.x), 
dy
 = (p2.
y
 -…1.y);

102 
boŞ
 
¡“p
 = 
çl£
;

103 
m
 = ()
dy
/()
dx
 ;

104 
boŞ
 
pos™ive_¦İe
;

105 ifĞ
m
 >= 0 )

106 
pos™ive_¦İe
 = 
Œue
;

108 
pos™ive_¦İe
 = 
çl£
;

110 ifĞ
	`çbs
(
m
) <= 1 ){

111 
¡“p
 = 
çl£
;

114 
¡“p
 = 
Œue
;

115 
	`sw­XY
(&
p1
);

116 
	`sw­XY
(&
p2
);

118 
	`d‘”mšeS¹AndEndPošts
(
p1
, 
p2
, &
x
, &
y
, &
x_’d
, &
y_’d
);

120 
dx
 = 
	`abs
(
x_’d
 - 
x
);

121 
dy
 = 
	`abs
(
y_’d
 - 
y
);

127 
p
 = 2 * 
dy
 - 
dx
;

130 
x_’d
--;

132  ; 
x
 < 
x_’d
; ){

133 
x
++;

134 ifĞ
p
 >= 0){

135 
pos™ive_¦İe
? 
y
++:y--;

136 
p
 =… + 2*
dy
 - 2*
dx
;

139 
p
 =… + 2*
dy
;

141 if(
¡“p
)

142 
	`_¡ÜeCÚtourPošt
(
y
,
x
);

144 
	`_¡ÜeCÚtourPošt
(
x
,
y
);

148 
	}
}

151 
	gPŞygÚ
::
	$_¡ÜeLšePošts
Ğ
Pošt
 
p1
, Pošˆ
p2
){

152 if(
p1
.
x
 =ğ
p2
.x){

153 
y
,
y_’d
;

154 if(
p1
.
y
 <ğ
p2
.y){

155 
y
 = 
p1
.y;

156 
y_’d
 = 
p2
.
y
;

158 
y
 = 
p2
.y;

159 
y_’d
 = 
p1
.
y
;

162 
y
++;

163 
y_’d
--;

165 ; 
y
<=
y_’d
; y++)

166 
	`_¡ÜeCÚtourPošt
(
p1
.
x
, 
y
);

169 if(
p1
.
y
 =ğ
p2
.y){

170 
x
, 
x_’d
;

171 if(
p1
.
x
 <ğ
p2
.x){

172 
x
 = 
p1
.x;

173 
x_’d
 = 
p2
.
x
;

176 
x
 = 
p2
.x;

177 
x_’d
 = 
p1
.
x
;

180 
x
++;

181 
x_’d
--;

183 ; 
x
 <ğ
x_’d
; x++)

184 
	`_¡ÜeCÚtourPošt
(
x
, 
p1
.
y
);

189 
	`_b»£nham
(
p1
, 
p2
);

192 
	}
}

194 
boŞ
 
	$com·»XV®ue
(
Pošt
 
p1
, Pošˆ
p2
){

195  
p1
.
x
 <ğ
p2
.x;

196 
	}
}

198 
	gPŞygÚ
::
	$ş—rCÚtourPošts
(){

199 
i
 = 0; i< 
g¿ph
->
wšdow_height
; i++){

200 
li¡OfCÚtourPošts
[
i
].
	`ş—r
();

202 
	}
}

204 
	gPŞygÚ
::
	$¡ÜeOrigš®PoštsToCÚtourPošts
(){

205 
Pošt
 
p
;

206 
i
 = 0 ; i < 
numb”OfPošts
; i++){

207 
p
 = 
li¡OfPošts
[
i
] ;

208 
li¡OfCÚtourPošts
[
p
.
y
+
g¿ph
->
wšdow_height
/2].
	`push_back
(p);

210 
	}
}

212 
	gPŞygÚ
::
	$¡ÜeCÚtourPošts
(){

213 
	`ş—rCÚtourPošts
();

215 
	`¡ÜeOrigš®PoštsToCÚtourPošts
();

216 
	`_¡ÜeLšePošts
(
li¡OfPošts
[0],†i¡OfPošts[
numb”OfPošts
-1]);

217 
i
 = 0 ; i < 
numb”OfPošts
 - 1; i++){

218 
	`_¡ÜeLšePošts
(
li¡OfPošts
[
i
],†istOfPoints[i+1]);

221 
i
 = 0 ; i < 
g¿ph
->
wšdow_height
; i++){

222 if(!
li¡OfCÚtourPošts
[
i
].
	`em±y
())

223 
li¡OfCÚtourPošts
[
i
].
	`sÜt
(
com·»XV®ue
);

225 
	}
}

227 
	gPŞygÚ
::
	$´štLi¡OfCÚtourPošts
(){

228 
	`DPRINT
("\n=================START OF CONTOUR POINTS=======================\n");

229 
i
 = 0; i< 
g¿ph
->
wšdow_height
; i++){

230 
¡d
::
li¡
<
Pošt
>::
™”©Ü
 
™
 = 
li¡OfCÚtourPošts
[
i
].
	`begš
(); iˆ!ğli¡OfCÚtourPošts[i].
	`’d
(); it++)

231 
	`DPRINT
("(%d, %dè ", (*
™
).
x
, (*™).
y
);

232 if(!
li¡OfCÚtourPošts
[
i
].
	`em±y
())

233 
	`DPRINT
("\n");

235 
	`DPRINT
("=================END OF CONTOUR POINTS=========================\n\n");

236 
	}
}

238 
	gPŞygÚ
::
	$¿¡”ize
(
r
, 
g
, 
b
){

239 
	`¡ÜeCÚtourPošts
();

240 
i
 = 0; i < 
g¿ph
->
wšdow_height
; i++){

241 if(
li¡OfCÚtourPošts
[
i
].
	`size
() > 1){

242 
¡d
::
li¡
<
Pošt
>::
™”©Ü
 
™
 = 
li¡OfCÚtourPošts
[
i
].
	`begš
(); iˆ!ğli¡OfCÚtourPošts[i].
	`’d
();){

243 
Pošt
 
p1
 = *
™
;

244 
¡d
::
	`advªû
(
™
, 1);

245 if(
™
 =ğ
li¡OfCÚtourPošts
[
i
].
	`’d
())

247 
Pošt
 
p2
 = *
™
;

249 ifĞ
	`abs
(
p2
.
x
 - 
p1
.x) >= 1 ){

250 
g¿ph
->
	`d¿wLše
(
p1
,
p2
, 
r
, 
g
, 
b
);

256 
	}
}

286 
	gPŞygÚ
::
	$şYmš
(
yMš
){

288 
	}
}

289 
PŞygÚ
::
	$ClXMax
(
xMax
){

291 
	}
}

292 
PŞygÚ
::
	$şYMax
(
yMax
){

294 
	}
}

297 
PŞygÚ
::
	$ş
(
xMš
, 
yMš
, 
xMax
, 
yMax
){

298 
li¡OfPoštsAá”Clpšg
 = 
Ãw
 
Pošt
[
numb”OfPoštsOrigš®
*2];

299 
	`memıy
(
li¡OfPoštsAá”Clpšg
, 
li¡OfPoštsOrigš®
, 
numb”OfPoštsOrigš®
*(
Pošt
) );

300 
numb”OfPoštsAá”Clpšg
 = 
numb”OfPoštsOrigš®
;

309 
	}
}

	@polygon.h

1 #iâdeà
POLYGON_H


2 
	#POLYGON_H


	)

4 
	~"commÚ_ty³.h
"

5 
	~"g¿ph.h
"

6 
	~<li¡
>

8 şas 
	cPŞygÚ
{

9 
ä›nd
 
şass
 
	mG¿ph
 ;

10 
Pošt
 *
	mli¡OfPošts
;

11 
Pošt
 *
	mli¡OfPoštsOrigš®
;

12 
Pošt
 *
	mli¡OfPoštsAá”Clpšg
;

13 
	mnumb”OfPoštsOrigš®
;

14 
	mnumb”OfPoštsAá”Clpšg
;

15 
	mnumb”OfPošts
;

16 
CŞÜ
 
	mcŞÜ
;

17 
G¿ph
 *
	mg¿ph
;

18 
Pošt
 
	mûÁroid
;

19 
	m¡d
::
li¡
<
Pošt
> 
li¡OfCÚtourPošts
[
WINDOW_HEIGHT
];

22 
	mpublic
:

23 
PŞygÚ
(
Pošt
 * 
li¡OfPts
, 
numOfPošts
, 
G¿ph
 *
±r_g¿ph
);

24 ~
PŞygÚ
();

25 
£tCŞÜ
(
CŞÜ
);

26 
£tC’Œoid
();

27 
d¿w
();

28 
sÿË
(
®pha
, 
b‘a
);

29 
rÙ©e
(
ªgË
);

30 
Œª¦©e
(
x
, 
y
);

31 
¿¡”ize
(
r
, 
g
, 
b
);

32 
_¡ÜeCÚtourPošt
(
x
, 
y
);

33 
_¡ÜeLšePošts
Ğ
Pošt
 
p1
, Pošˆ
p2
);

34 
_b»£nham
(
Pošt
 
±1
, Pošˆ
±2
);

35 
¡ÜeOrigš®PoštsToCÚtourPošts
();

36 
¡ÜeCÚtourPošts
();

37 
ş—rCÚtourPošts
();

38 
´štLi¡OfCÚtourPošts
();

39 
ş
(
xMš
, 
yMš
, 
xMax
, 
yMax
);

40 
şXMš
(
xMš
);

41 
şYmš
(
yMš
);

42 
ClXMax
(
xMax
);

43 
şYMax
(
yMax
);

	@/usr/include/GL/glut.h

1 #iâdeà 
__GLUT_H__


2 
	#__GLUT_H__


	)

17 
	~"ä“glut_¡d.h
"

	@
1
.
1
/usr/include
9
102
common_type.h
graph.cpp
graph.h
line.cpp
line.h
main.cpp
polygon.cpp
polygon.h
/usr/include/GL/glut.h
